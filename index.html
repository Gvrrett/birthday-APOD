<!DOCTYPE html>
<html lang="en">
<head>
  <title>Projects</title>
 
    <link rel="preconnect" href="https://fonts.gstatic.com">
<link href="https://fonts.googleapis.com/css2?family=Montserrat+Alternates:wght@300&display=swap" rel="stylesheet">

    
    <link rel="stylesheet" href="style.css"> 
    
     <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
  
  
    
</head>
    
<body>
    
    
    <!--  
    
    var req = new XMLHttpRequest();
    var apod_url = "https://api.nasa.gov/planetary/apod?api_key=";
    var api_key = "BL26wabOU0rBly4ZSJWlqwLzKAyJTz0UqlESs1jO";
        
    req.open("GET", apod_url + api_key);
        req.send();

    
    -->

<ul>
  <li><a href="resume.html">Resume</a></li>
  <li><a class="active" href="#projects">Projects</a></li>
  <li><a href="contact.html">Contact</a></li>
  <li style="float:right"><a href="aboutme.html">About Me</a></li>
</ul>    

<p id="heading">My Projects</p>
    
<script>
  
  /*
  This is the initial request to get the Astronomy picture of the day from NASA. 
  The default parameter date parameter is set to April 1, 1999. By concatenating 
  the API path link with the API key and selected date, I am able to get the APOD 
  for any date.
  
 I have seen examples that pull the picture for the current date, but I wanted to be able 
 to get the picture for any date of my choosing. 
  
  
  */
    
    // NASA 
     var req = new XMLHttpRequest();
     var apod_url = "https://api.nasa.gov/planetary/apod?api_key=";
     var api_key = "BL26wabOU0rBly4ZSJWlqwLzKAyJTz0UqlESs1jO";
     let birthday = "1999-04-01";
    
    
       
    let apod1 = "https://api.nasa.gov/planetary/apod?date=";
    req.open("GET", apod_url + api_key + "&date=" + birthday);
        req.send();
    
    req.addEventListener("load", function(){
        if(req.status == 200 && req.readyState == 4){
  	    var response = JSON.parse(req.responseText);
        document.getElementById("title").textContent = response.title;
        document.getElementById("date").textContent = response.date;
        document.getElementById("pic").src = response.hdurl;
        document.getElementById("explanation").textContent = response.explanation;
        } 
        
    })
    

 
    
</script>    
    
  /*
  
  the onchange event handler makes it so whenever the date on the calendar 
  is changed, it calls "myFunction" to send a new request. The new request uses 
  the new date as the birthday variable which changes the APOD accordingly.
  */

    
  <p>  
  <label for="lname">What is your birthday?</label><br><br>
            <input onchange="myFunction()" type="date" id="myDate">
  <br>
      <script>
          function myFunction() {
            let birthday = document.getElementById("myDate").value;
             var req = new XMLHttpRequest();
             var apod_url = "https://api.nasa.gov/planetary/apod?api_key=";
            var api_key = "BL26wabOU0rBly4ZSJWlqwLzKAyJTz0UqlESs1jO";
            
              
               let apod1 = "https://api.nasa.gov/planetary/apod?date=";
                req.open("GET", apod_url + api_key + "&date=" + birthday);
                req.send();
    
    req.addEventListener("load", function(){
        if(req.status == 200 && req.readyState == 4){
  	    var response = JSON.parse(req.responseText);
        document.getElementById("title").textContent = response.title;
        document.getElementById("date").textContent = response.date;
        document.getElementById("pic").src = response.hdurl;
        document.getElementById("explanation").textContent = response.explanation;
        } 
        
    })
    
              
          }
      </script>
   </p> 
    
    
    
   <div id="apod">
     
       
       
   <div class="col-sm-6" id="apod_info">     
     <h3>NASA Astronomy Picture of the day</h3>
      <h4 id="title"></h4>
      <h5>Date: <span id="date"></span></h5>
       <p style="text-align:left;" id="explanation"></p> 
    </div>
       <div class="col-sm-6" id="apod_img">
      <img id="pic" src="" alt="NASA Picture of the day" width="100%" class="center">
      </div> 
       
    </div>  
    
    
  
   
    
    </body>
</html>



